<!DOCTYPE html>
<html lang="pt-BR" class="dark">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <title>Calculadora de Notas — AV1, AV2 e Situação Acadêmica</title>
    <meta
      name="description"
      content="Calculadora de notas simples e acessível para AV1 e AV2 com pesos, média final e indicação de situação (aprovado, recuperação, reprovado)."
    />
    <meta
      name="keywords"
      content="calculadora de notas, média escolar, AV1, AV2, desempenho acadêmico"
    />
    <meta name="author" content="Maicon Galdino" />

    <meta name="theme-color" content="#4f46e5" />
    <meta property="og:title" content="Calculadora de Notas" />
    <meta
      property="og:description"
      content="AV1 e AV2 com média e situação acadêmica."
    />
    <meta property="og:type" content="website" />

    <link rel="manifest" href="./manifest.webmanifest" />
    <link rel="icon" href="./assets/icons/favicon.svg" type="image/svg+xml" />

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />

    <script src="https://cdn.tailwindcss.com" defer></script>
    <script src="https://unpkg.com/lucide@latest" defer></script>

    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />

    <link rel="preload" href="./css/estilos.css" as="style" />
    <link rel="stylesheet" href="./css/estilos.css" />
  </head>

  <body class="dark min-h-screen flex justify-center items-start p-4">
    <main
      class="painel-vidro w-full max-w-xl md:max-w-2xl p-6 md:p-8 rounded-2xl shadow-2xl relative overflow-visible"
      role="main"
      aria-labelledby="titulo-principal"
    >
      <div
        class="absolute top-0 left-0 w-full h-1.5 bg-gradient-to-r from-purple-500 to-indigo-500 z-0 pointer-events-none"
        aria-hidden="true"
      ></div>

      <header class="text-center mb-6 relative z-10 pt-safe pt-3 sm:pt-2">
        <div
          class="inline-flex justify-center items-center bg-indigo-50 p-2 sm:p-3 rounded-full mb-3 sm:mb-4 shadow-sm"
          aria-hidden="true"
        >
          <i data-lucide="graduation-cap" class="w-8 h-8 text-indigo-600"></i>
        </div>
        <h1
          id="titulo-principal"
          class="text-2xl sm:text-3xl md:text-4xl font-extrabold tracking-tight text-gray-900 dark:text-gray-100 leading-tight break-words"
        >
          Minhas Notas
        </h1>
        <p class="text-gray-800 dark:text-gray-400 text-xs sm:text-sm font-medium leading-relaxed break-words">
          Controle de desempenho acadêmico
        </p>
      </header>

      <form id="formulario-notas" class="space-y-6" novalidate>
        <fieldset
          class="bg-gray-100 dark:bg-slate-800/50 p-5 rounded-xl border border-gray-300 dark:border-slate-700 transition-colors hover:border-gray-400"
          aria-labelledby="titulo-av1"
        >
          <legend class="sr-only">Avaliação 1 (AV1)</legend>

          <div class="flex items-center gap-2 mb-4">
            <i data-lucide="calculator" class="w-4 h-4 text-indigo-500"></i>
            <span
              id="titulo-av1"
              class="font-semibold text-gray-800 dark:text-gray-100"
              >Avaliação 1 (AV1)</span
            >
          </div>

          <div
            class="grid grid-cols-1 sm:grid-cols-2 gap-4 mb-4"
            role="group"
            aria-label="Notas AV1"
          >
            <div class="space-y-1">
              <label
                for="av1-trabalho"
                class="block text-xs font-semibold text-gray-800 dark:text-gray-100 uppercase tracking-wide text-center"
              >
                Trabalho (60%)
              </label>
              <input
                type="text"
                inputmode="decimal"
                id="av1-trabalho"
                name="av1-trabalho"
                placeholder="0,0"
                pattern="^\d{1,2}([.,]\d{1,2})?$"
                maxlength="5"
                class="campo-nota w-full p-2.5 rounded-lg border border-gray-200 dark:border-slate-700 bg-white dark:bg-slate-900 focus:ring-2 focus:ring-indigo-400 focus:border-transparent outline-none text-center font-bold text-gray-800 dark:text-gray-200 transition-all shadow-sm"
                aria-label="Nota do trabalho AV1 (60 por cento)"
                autocomplete="off"
                aria-describedby="erro-av1-trabalho"
              />
              <span id="erro-av1-trabalho" class="hidden text-xs text-red-400">Valor inválido. Use 0–10 com até 2 casas.</span>
            </div>

            <div class="space-y-1">
              <label
                for="av1-qstone"
                class="block text-xs font-semibold text-gray-800 dark:text-gray-100 uppercase tracking-wide text-center"
              >
                QStone (40%)
              </label>
              <input
                type="text"
                inputmode="decimal"
                id="av1-qstone"
                name="av1-qstone"
                placeholder="0,0"
                pattern="^\d{1,2}([.,]\d{1,2})?$"
                maxlength="5"
                class="campo-nota w-full p-2.5 rounded-lg border border-gray-200 dark:border-slate-700 bg-white dark:bg-slate-900 focus:ring-2 focus:ring-indigo-400 focus:border-transparent outline-none text-center font-bold text-gray-800 dark:text-gray-200 transition-all shadow-sm"
                aria-label="Nota do QStone AV1 (40 por cento)"
                autocomplete="off"
                aria-describedby="erro-av1-qstone"
              />
              <span id="erro-av1-qstone" class="hidden text-xs text-red-400">Valor inválido. Use 0–10 com até 2 casas.</span>
            </div>
          </div>

          <div
            class="flex justify-between items-center bg-white dark:bg-slate-900 px-4 py-2 rounded-lg border border-gray-200 dark:border-slate-700 shadow-sm"
          >
            <span
              class="text-xs md:text-sm font-bold uppercase tracking-wide text-indigo-700 bg-indigo-50 dark:text-indigo-300 dark:bg-indigo-900/30 px-2 py-1 rounded"
            >
              Média Parcial
            </span>
            <output
              id="resultado-av1"
              class="text-indigo-600 font-bold text-lg"
              aria-live="polite"
              aria-atomic="true"
              role="status"
            >
              0.00
            </output>
          </div>
        </fieldset>

        

        <fieldset
          class="bg-gray-100 dark:bg-slate-800/50 p-5 rounded-xl border border-gray-300 dark:border-slate-700 transition-colors hover:border-gray-400"
          aria-labelledby="titulo-av2"
        >
          <legend class="sr-only">Avaliação 2 (AV2)</legend>

          <div class="flex items-center gap-2 mb-4">
            <i data-lucide="calculator" class="w-4 h-4 text-purple-500"></i>
            <span
              id="titulo-av2"
              class="font-semibold text-gray-800 dark:text-gray-100"
              >Avaliação 2 (AV2)</span
            >
          </div>

          <div
            class="grid grid-cols-1 sm:grid-cols-2 gap-4 mb-4"
            role="group"
            aria-label="Notas AV2"
          >
            <div class="space-y-1">
              <label
                for="av2-trabalho"
                class="block text-xs font-semibold text-gray-800 dark:text-gray-100 uppercase tracking-wide text-center"
              >
                Trabalho (60%)
              </label>
              <input
                type="text"
                inputmode="decimal"
                id="av2-trabalho"
                name="av2-trabalho"
                placeholder="0,0"
                pattern="^\d{1,2}([.,]\d{1,2})?$"
                maxlength="5"
                class="campo-nota w-full p-2.5 rounded-lg border border-gray-200 dark:border-slate-700 bg-white dark:bg-slate-900 focus:ring-2 focus:ring-purple-400 focus:border-transparent outline-none text-center font-bold text-gray-800 dark:text-gray-200 transition-all shadow-sm"
                aria-label="Nota do trabalho AV2 (60 por cento)"
                autocomplete="off"
                aria-describedby="erro-av2-trabalho"
              />
              <span id="erro-av2-trabalho" class="hidden text-xs text-red-400">Valor inválido. Use 0–10 com até 2 casas.</span>
            </div>

            <div class="space-y-1">
              <label
                for="av2-qstone"
                class="block text-xs font-semibold text-gray-800 dark:text-gray-100 uppercase tracking-wide text-center"
              >
                QStone (40%)
              </label>
              <input
                type="text"
                inputmode="decimal"
                id="av2-qstone"
                name="av2-qstone"
                placeholder="0,0"
                pattern="^\d{1,2}([.,]\d{1,2})?$"
                maxlength="5"
                class="campo-nota w-full p-2.5 rounded-lg border border-gray-200 dark:border-slate-700 bg-white dark:bg-slate-900 focus:ring-2 focus:ring-purple-400 focus:border-transparent outline-none text-center font-bold text-gray-800 dark:text-gray-200 transition-all shadow-sm"
                aria-label="Nota do QStone AV2 (40 por cento)"
                autocomplete="off"
                aria-describedby="erro-av2-qstone"
              />
              <span id="erro-av2-qstone" class="hidden text-xs text-red-400">Valor inválido. Use 0–10 com até 2 casas.</span>
            </div>
          </div>

          <div
            class="flex justify-between items-center bg-white dark:bg-slate-900 px-4 py-2 rounded-lg border border-gray-200 dark:border-slate-700 shadow-sm"
          >
            <span
              class="text-xs md:text-sm font-bold uppercase tracking-wide text-purple-700 bg-purple-50 dark:text-purple-300 dark:bg-purple-900/30 px-2 py-1 rounded"
            >
              Média Parcial
            </span>
            <output
              id="resultado-av2"
              class="text-purple-600 font-bold text-lg"
              aria-live="polite"
              aria-atomic="true"
              role="status"
            >
              0.00
            </output>
          </div>
        </fieldset>

        <section
          class="bg-gray-100 dark:bg-gray-900 text-gray-900 dark:text-white p-5 md:p-6 rounded-2xl shadow-xl transform transition-transform duration-300 hover:scale-[1.02] border border-gray-300 dark:border-gray-800"
          aria-label="Resultado da média final"
        >
          <div
            class="flex flex-col md:flex-row md:justify-between md:items-end gap-4"
          >
            <div>
              <p
                class="text-gray-800 dark:text-gray-100 text-xs font-bold uppercase tracking-wider mb-2"
              >
                Situação Acadêmica
              </p>
              <div class="flex items-center gap-2.5">
                <span
                  id="icone-situacao"
                  class="flex items-center justify-center bg-gray-200 dark:bg-gray-700 rounded-full p-1"
                  aria-hidden="true"
                >
                  <i
                    data-lucide="circle-dashed"
                    class="w-5 h-5 text-gray-600 dark:text-gray-300"
                  ></i>
                </span>
                <span
                  id="texto-situacao"
                  class="text-sm font-semibold text-gray-800 dark:text-gray-200"
                  aria-live="polite"
                >
                  Aguardando dados...
                </span>
              </div>
            </div>

            <div class="md:text-right text-left">
              <output
                id="resultado-final"
                class="texto-grande text-4xl md:text-5xl font-bold tracking-tighter tabular-nums"
                aria-label="Nota final calculada"
                role="status"
              >
                0.00
              </output>
            </div>
          </div>
        </section>

        <div class="pt-2 space-y-4">
          <button
            type="button"
            id="botao-copiar"
            disabled
            class="w-full bg-indigo-600 text-white font-semibold py-3.5 px-4 rounded-xl shadow-lg shadow-indigo-500/20 transition-all flex items-center justify-center gap-2 group opacity-50 cursor-not-allowed hover:bg-indigo-700 active:scale-[0.98]"
            aria-label="Copiar relatório de notas"
          >
            <i
              data-lucide="clipboard-copy"
              class="w-5 h-5 group-hover:-translate-y-0.5 transition-transform"
            ></i>
            <span>Copiar Relatório</span>
          </button>

          <button
            type="button"
            id="botao-limpar"
            class="text-xs text-gray-500 dark:text-gray-400 hover:text-red-500 font-medium transition-colors flex items-center justify-center gap-1.5 mx-auto py-2"
            aria-label="Limpar todos os campos"
          >
            <i data-lucide="trash-2" class="w-3.5 h-3.5"></i>
            Limpar todos os campos
          </button>

          <div>
            <button type="button" id="botao-compartilhar" class="w-full bg-slate-800 text-white font-semibold py-3 px-4 rounded-xl border border-slate-700 flex items-center justify-center gap-2 hover:bg-slate-700" aria-label="Compartilhar link">
              <i data-lucide="share-2" class="w-5 h-5"></i>
              <span>Compartilhar Link</span>
            </button>
          </div>

          <div class="flex justify-end">
            <button id="botao-meta" type="button" class="text-xs text-gray-400 hover:text-indigo-300 underline underline-offset-2 flex items-center gap-1" aria-controls="secao-meta" aria-expanded="false">
              <i data-lucide="target" class="w-3.5 h-3.5"></i>
              <span>Meta de aprovação</span>
            </button>
          </div>

          <section id="secao-meta" class="hidden mt-2 bg-slate-900 text-white p-3 rounded-xl border border-slate-700" aria-label="Meta de aprovação">
            <div class="flex justify-between items-center">
              <div>
                <p class="text-gray-300 text-xs font-bold uppercase tracking-wider mb-1">Meta de Aprovação</p>
                <span class="text-xs text-gray-400">Média AV2 necessária para atingir corte</span>
              </div>
              <output id="meta-av2" class="text-2xl font-bold tabular-nums">0.00</output>
            </div>
            <p id="meta-av2-msg" class="mt-1 text-xs text-gray-400"></p>
          </section>

        </div>
      
      <footer class="mt-4 text-center">
        <span id="badge-offline" class="hidden text-[11px] font-medium text-emerald-300">Disponível offline</span>
      </footer>
      </form>
    </main>

    <noscript>
      Para usar a calculadora, habilite JavaScript no navegador.
    </noscript>

    <script src="./js/core.js" defer></script>
    <script src="./js/app.js" defer></script>
  </body>
</html>
